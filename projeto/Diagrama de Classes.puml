@startuml
title Diagrama de Classes
skinparam classAttributeIconSize 0
skinparam class {
  BackgroundColor White
  ArrowColor Black
  BorderColor Black
}

' ===== Superclasse =====
class Usuario {
  +id: UUID
  +email: String
  +senhaHash: String
  +ativo: boolean
  +saldo: int  ' substitui a Carteira
}

' ===== Especializações =====
class Aluno
class Professor

Aluno --|> Usuario
Professor --|> Usuario

' ===== Demais entidades do domínio =====
class EmpresaParceira {
  +id: UUID
  +nome: String
  +cnpj: String
  +ativa: boolean
}

class Vantagem {
  +id: UUID
  +titulo: String
  +descricao: String
  +custoMoedas: int
  +fotoUrl: String
  +ativa: boolean
}

class Resgate {
  +id: UUID
  +codigo: String
  +status: ResgateStatus
  +solicitadoEm: Instant
  +consumidoEm: Instant
}

enum ResgateStatus {
  SOLICITADO
  CONSUMIDO
  CANCELADO
}

' ===== Histório de transações (sem enum crédito/débito) =====
class Transacao {
  +id: UUID
  +valor: int    ' positivo credita, negativo debita
  +descricao: String
  +criadaEm: Instant
}

' ===== Relacionamentos =====
EmpresaParceira "1" -- "0..*" Vantagem
Aluno "1" -- "0..*" Resgate
Resgate "1" -- "1" Vantagem

Usuario "1" -- "0..*" Transacao

@enduml
